{% extends "base.html" %}
{% load static %}

{% block css_extra %}
<link rel="stylesheet" href="{% static 'css/carrinho.css' %}">
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
{% endblock css_extra %}

{% block conteudo_pagina %}
<main>
  <div class="container">

    <!-- Seção do Carrinho -->
    <section class="carrinho">
      <h1 class="titulo">CARRINHO</h1>
      <hr>
      <div class="cabecalho-lista">
        <span>Produto</span>
        <span>Quant.</span>
        <span>Preço</span>
      </div>

      <!-- Itens estáticos (serão substituídos caso haja localStorage) -->
      <div class="item-carrinho">
        <img src="{% static 'img/produtos/camisas/camisa_retro.webp' %}" alt="Uniforme Drakos">
        <div class="info-produto">
          <h3>Uniforme Retrô</h3>
          <p>Uniforme Retrô, temporada 2005/2007</p>
          <p>Tamanho: P</p>
        </div>
        <div class="quantidade">
          <button>&lt;</button>
          <span>1</span>
          <button>&gt;</button>
        </div>
        <div class="preco">R$299,00</div>
        <button class="lixeira"><i class="fa-solid fa-trash"></i></button>
      </div>

      <div class="item-carrinho">
        <img src="{% static 'img/produtos/camisas/camisa_retro.webp' %}" alt="Uniforme Drakos">
        <div class="info-produto">
          <h3>2° Uniforme FC</h3>
          <p>Uniforme branco, estilo clássico da equipe.</p>
          <p>Tamanho: M</p>
        </div>
        <div class="quantidade">
          <button>&lt;</button>
          <span>1</span>
          <button>&gt;</button>
        </div>
        <div class="preco">R$299,00</div>
        <button class="lixeira"><i class="fa-solid fa-trash"></i></button>
      </div>

      <div class="item-carrinho">
        <img src="{% static 'img/produtos/camisas/camisa_retro.webp' %}" alt="Escudo Drakos">
        <div class="info-produto">
          <h3>Escudo Drako</h3>
          <p>Item decorativo para fãs do clube.</p>
        </div>
        <div class="quantidade">
          <button>&lt;</button>
          <span>1</span>
          <button>&gt;</button>
        </div>
        <div class="preco">R$299,00</div>
        <button class="lixeira"><i class="fa-solid fa-trash"></i></button>
      </div>

      <div class="item-carrinho">
        <img src="{% static 'img/produtos/camisas/camisa_retro.webp' %}" alt="Cachecol Milan">
        <div class="info-produto">
          <h3>Cachecol Milan</h3>
          <p>Ideal para o frio — item oficial de torcida.</p>
        </div>
        <div class="quantidade">
          <button>&lt;</button>
          <span>1</span>
          <button>&gt;</button>
        </div>
        <div class="preco">R$299,00</div>
        <button class="lixeira"><i class="fa-solid fa-trash"></i></button>
      </div>
    </section>

    <!-- Resumo do pedido -->
    <aside class="resumo">
      <div class="bloco-resumo">
        <h2>RESUMO DO PEDIDO</h2>
        <hr>
        <p><span>Subtotal:</span> R$1.196,00</p>
        <p><span>Desconto:</span> R$20,00</p>
        <p class="total"><span>Total:</span> R$1.176,00</p>
      </div>

      <div class="bloco-pagamento">
        <h2>FORMA DE PAGAMENTO:</h2>
        <div class="formas">
          <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" alt="PayPal">
          <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png" alt="Mastercard">
          <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" alt="Visa">
        </div>

        <!-- BOTÃO QUE ABRE O POP-UP -->
        <button id="openPayment" class="btn-pagamento" type="button">
          Escolher forma de pagamento
        </button>

      </div>

    </aside>
  </div>
</main>

<!-- ========== POP-UP DE PAGAMENTO (FUNCIONAL) ========== -->
<div id="paymentOverlay" class="payment-overlay">
  <div class="payment-modal">

    <!-- Lado esquerdo - seleção -->
    <div class="payment-left">
      <h2>Escolha a forma de pagamento</h2>

      <div class="payment-methods">
        <div class="pay-method" data-method="visa">
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png">
          <span>Visa</span>
        </div>

        <div class="pay-method" data-method="mastercard">
          <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg">
          <span>Mastercard</span>
        </div>

        <div class="pay-method" data-method="paypal">
          <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg">
          <span>PayPal</span>
        </div>
      </div>

      <button id="closePaymentLeft" class="close-btn">Fechar</button>
    </div>

    <!-- Lado direito - formulário -->
    <div class="payment-right">
      <h3 id="payTitle">Nenhuma forma selecionada</h3>
      <p id="paySubtitle">Escolha um método de pagamento.</p>

      <div id="payForm"></div>

      <button id="paySubmit" class="submit-btn" style="display:none;">Confirmar Pagamento</button>
      <button id="closePaymentRight" class="close-btn">Cancelar</button>

      <p id="paySuccess" class="success">Pagamento aprovado!</p>
    </div>

  </div>
</div>
<!-- ===================================================== -->

{% endblock conteudo_pagina %}
{% block js_pagina %}
  <script src="{% static 'js/carrinho.js' %}"></script>
{% endblock js_pagina %}
