{% extends "base.html" %}
{% load static %}

{% block css_extra %}
  <link rel="stylesheet" href="{% static 'css/proximos_jogos.css' %}">
  <link rel="stylesheet" href="{% static 'css/Tela_Ingressos.css' %}">
{% endblock css_extra %}

{% block titulo %}Ingressos{% endblock titulo %}

{% block conteudo_pagina %}

<!-- ================= JOGO EM DESTAQUE ================= -->
<section class="jogo-destaque">
  <p class="rodada">19ª RODADA</p>

  <div class="confronto">
    <div class="time">
      <img src="{% static 'img/icones/Escudo_Drakos.png' %}">
      <p>Drakos FC</p>
    </div>

    <span class="versus">X</span>

    <div class="time">
      <img src="{% static 'img/icones/escudo_fluminense.png' %}">
      <p>Fluminense</p>
    </div>
  </div>

  <p class="info-jogo">09/04 - 19:00</p>
  <p class="info-jogo">Mangueirão</p>
</section>

<!-- ================= COMPRA DE INGRESSOS ================= -->
<main>

  <h1>Compra de Ingressos</h1>

  <section class="titulo-ingresso">
    <h3>19ª Rodada</h3>
    <h2>Drakos FC x Fluminense</h2>

    <div class="logos-times">
      <img src="{% static 'img/icones/Escudo_Drakos.png' %}">
      <img src="{% static 'img/icones/escudo_fluminense.png' %}">
    </div>
  </section>

  <div class="container-estadio-ingressos">

    <!-- MAPA -->
    <section class="mapa-estadio">
      <h3>Mapa do Estádio</h3>
      <img src="{% static 'img/icones/estadio_atualizado.png' %}">
    </section>

    <!-- COMPRA -->
    <section class="lado-direito-ingressos">
      <form class="form-setor" method="POST">
        {% csrf_token %}

        <label for="setor">Setor:</label>
        <select id="setor" name="setor" required>
          <option value="">Selecione</option>
          {% for ingresso in ingressos %}
            <option 
              value="{{ ingresso.id_produtos }}"
              data-preco="{{ ingresso.valor_produtos }}">
              {{ ingresso.nome_produtos }} - R$ {{ ingresso.valor_produtos }}
            </option>
          {% endfor %}
        </select>

        <label for="quantidade">Quantidade:</label>
        <input id="quantidade" name="quantidade" type="number" min="0" max="10" value="0" required>

        <button type="submit" class="botao-comprar">
          Adicionar Ingresso
        </button>
      </form>

      <section class="lista-ingressos">
        <h3>Ingressos Selecionados</h3>
        <ul></ul>

        <button type="button" id="btn-finalizar" class="botao-finalizar">
          Finalizar compra • R$ <span id="valor-final">0.00</span>
        </button>
      </section>
    </section>
  </div>

  <!-- ================= PRÓXIMOS JOGOS ================= -->
  <section class="jogos-container">
    <h2 class="titulo-secundario">PRÓXIMOS JOGOS</h2>

    <!-- Grêmio -->
    <div class="jogo-card">
      <div class="jogo-times">
        <img src="{% static 'img/icones/Gremio.png' %}" class="escudo">
        {% comment %} <img src="{% static 'img/icones/Escudo_Drakos.png' %}" class="escudo"> {% endcomment %}
      </div>
      <h2>Grêmio vs Drakos FC</h2>
      <p class="data">02/05/2025 • 20h00</p>
      <p class="local">Local: Mangueirão</p>
    </div>

    <!-- Palmeiras -->
    <div class="jogo-card">
      <div class="jogo-times">
        <img src="{% static 'img/icones/Palmeiras.png' %}" class="escudo">
        {% comment %} <img src="{% static 'img/icones/Escudo_Drakos.png' %}" class="escudo"> {% endcomment %}
      </div>
      <h2>Palmeiras vs Drakos FC</h2>
      <p class="data">06/05/2025 • 20h00</p>
      <p class="local">Local: Mangueirão</p>
    </div>

    <!-- Fluminense -->
    <div class="jogo-card">
      <div class="jogo-times">
        <img src="{% static 'img/icones/escudo_fluminense.png' %}" class="escudo">
        {% comment %} <img src="{% static 'img/icones/Escudo_Drakos.png' %}" class="escudo"> {% endcomment %}
      </div>
      <h2>Fluminense vs Drakos FC</h2>
      <p class="data">10/05/2025 • 20h00</p>
      <p class="local">Local: Mangueirão</p>
    </div>
  </section>

  <div id="mensagem-sucesso" class="mensagem-sucesso" style="display:none;">
    Compra realizada com sucesso!
  </div>

</main>

{% endblock conteudo_pagina %}

{% block js_pagina %}
  <script src="{% static 'js/Tela_ingressos.js' %}"></script>
{% endblock js_pagina %}
